<div class="food-container">
  <h2>Shopping List</h2>
  <% if @shopping_items[:missing_food_items].count > 0 %>
    <div class="shopping-stats">
      <span>
        Amount of food item to buy:
        <%= @shopping_items[:total_count] %>
      </span>
      <span>
        Total value of food:
        $<%= @shopping_items[:total_price] %>
      </span>
    </div>
    <table>
      <%= render 'foods/table_head', { columns: ['Food', 'Quantity', 'Price'], with_actions: false } %>
      <tbody>
        <% @shopping_items[:missing_food_items].each do |food_id, quantity| %>
          <% food = Food.find(food_id) %>
          <tr>
            <td><%= food.name %></td>
            <td><%= quantity %></td>
            <td>$<%= food.price * quantity %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  <% else %>
    <p>There is nothing to buy, you have everything you need.</p>
  <% end %>
</div>
